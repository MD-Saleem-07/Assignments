<!DOCTYPE html>
<html>
<head>
    <title>Student Array Operations</title>
    <style>
        .fail {
            color: red;
            font-weight: bold;
        }
        table {
            border-collapse: collapse;
            width: 60%;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: center;

        }
    </style>
</head>
<body>

<h2>All Student Names</h2>
<ul id="studentList"></ul>

<h2>Students Scored More Than 60</h2>
<ul id="above60"></ul>

<h2>CSE Students</h2>
<ul id="cseStudents"></ul>

<h2>Students Table</h2>
<table id="studentTable">
    <thead>
        <tr>
            <th>Name</th>
            <th>Marks</th>
            <th>Department</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<h3 id="highestMarks"></h3>
<h3 id="averageMarks"></h3>
<h3 id="departmentCount"></h3>

<script>
const students = [
  { id: 1, name: "Amit", marks: 78, department: "CSE" },
  { id: 2, name: "Priya", marks: 92, department: "ECE" },
  { id: 3, name: "Rahul", marks: 45, department: "MECH" },
  { id: 4, name: "Sneha", marks: 66, department: "CSE" },
  { id: 5, name: "Kiran", marks: 88, department: "ECE" },
  { id: 6, name: "Ravi", marks: 55, department: "MECH" },
  { id: 7, name: "Anita", marks: 34, department: "CSE" },
  { id: 8, name: "Vikas", marks: 71, department: "ECE" },
  { id: 9, name: "Pooja", marks: 64, department: "CSE" },
  { id: 10, name: "Manoj", marks: 49, department: "MECH" },
  { id: 11, name: "Neha", marks: 83, department: "CSE" },
  { id: 12, name: "Suresh", marks: 58, department: "ECE" },
  { id: 13, name: "Divya", marks: 90, department: "CSE" },
  { id: 14, name: "Arjun", marks: 61, department: "MECH" },
  { id: 15, name: "Meena", marks: 47, department: "ECE" }
];

// 1️ Display all student names
const studentList = document.getElementById("studentList");
students.forEach(s => {
    const li = document.createElement("li");
    li.textContent = s.name;
    studentList.appendChild(li);
});

// 2️ Students with marks > 60
const above60 = document.getElementById("above60");
students.filter(s => s.marks > 60).forEach(s => {
    const li = document.createElement("li");
    li.textContent = s.name + " - " + s.marks;
    above60.appendChild(li);
});

// 3️ Count students per department
const deptCount = {};
students.forEach(s => {
    deptCount[s.department] = (deptCount[s.department] || 0) + 1;
});
document.getElementById("departmentCount").textContent =
    "Department Count: " + JSON.stringify(deptCount);

// 4️ Highest marks
const topper = students.reduce((max, s) => s.marks > max.marks ? s : max);
document.getElementById("highestMarks").textContent =
    "Highest Marks: " + topper.name + " (" + topper.marks + ")";

// 5️ Display students in table & highlight failed
const tbody = document.querySelector("#studentTable tbody");
students.forEach(s => {
    const tr = document.createElement("tr");
    if (s.marks < 50) tr.classList.add("fail");

    tr.innerHTML = `
        <td>${s.name}</td>
        <td>${s.marks}</td>
        <td>${s.department}</td>
    `;
    tbody.appendChild(tr);
});

// 6️ Average marks
const totalMarks = students.reduce((sum, s) => sum + s.marks, 0);
const avg = (totalMarks / students.length).toFixed(2);
document.getElementById("averageMarks").textContent =
    "Average Marks: " + avg;

// 7️ Display only CSE students
const cseList = document.getElementById("cseStudents");
students.filter(s => s.department === "CSE").forEach(s => {
    const li = document.createElement("li");
    li.textContent = s.name;
    cseList.appendChild(li);
});

// 8️ Sort by marks descending
students.sort((a, b) => b.marks - a.marks);

// 9️ Add new student and update HTML
students.push({ id: 16, name: "Rohit", marks: 76, department: "CSE" });
const newLi = document.createElement("li");
newLi.textContent = "Rohit";
studentList.appendChild(newLi);

</script>

</body>
</html>
